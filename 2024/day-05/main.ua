# https://adventofcode.com/2024/day/5

# uiua 0.15.0-dev.1
# Experimental!

UpdateMap â† (
  âŠ™âŠƒ(â¬š(â–¡[])get|âŠ™âˆ˜):
  insert:âœ(Â°â–¡:)âŠ‚
)

# map $ rules
ğŸ—º â† âˆ§(UpdateMapÂ°âŠŸâ‚‚) :[]

# updates rules $ data
ğŸ—„ â† (
  Â°/$"_\n\n_"
  âšÂ°/$"_\n_"
  âˆ©Â°â–¡:Â°âŠŸ
  âŠ“(â‰¡(âšâŠœâ‹•âŠ¸â‰ @,) â†˜Â¯1|ğŸ—ºâ‰¡(â—‡âŠœâ‹•âŠ¸â‰ @|))
)

# - fÃ¶r varje update
#   - try get i rules
#   - fÃ¶r varje i rules
#     - jÃ¤mfÃ¶r mot kvarvarande updates

# bool $ update rules
IsCorrectlyOrdered â† (
  â‰¡âŒŸâ—‡(/âˆ¨â—‡âˆŠ: â¬š[]get âŠ™: Â°âŠ‚ â‡Œ) â§…â–¡
  Â¬/âˆ¨
)

# answer $ updates rules
ğŸª â† (
  â–½â¤šâ‰¡âŒŸâ—‡IsCorrectlyOrdered
  â‰¡â—‡(âŠ¡âŒŠÃ·2âŠ¸â§») # pick out the middle number
  /+
)
â”Œâ”€â•´ğŸ§ª
  â¤â¤™â‰ 143 ğŸª ğŸ—„ &fras "example.txt"
  â¤â¤™â‰ 6498 ğŸª ğŸ—„ &fras "input.txt"
â””â”€â•´
