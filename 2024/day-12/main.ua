# https://adventofcode.com/2024/day/12

# uiua 0.14.0-dev.7
# Experimental!

~ "../day-10/lib.ua" ~ ğŸ‘¨â€ğŸ’»â€¼
~ "../day-10/lib.ua" ~ ğŸ°
N â† âŠ‚âŸœÂ¯â‹¯1_2

# ğŸ˜ â† (
#   +âŠ¸[âˆ©Â¯,,â‡Œ.â‡¡2]Â¤
#   â–½âŠ¸â‰¡(ğŸ°:â–³Grid)
# )

# HeadsAndFeet â† â™­â‚‹â‚âŠâŠŸ:âŠƒ(âŠš=â‚‰|âŠš=â‚€)

# ğŸ“ â† â¤â¤™â‰âŠ™â–³

# # validNeighbors ? current
# ğŸ”œ â† (
#   âŠ¸ğŸ“[2]
#   âŠ¸ğŸ˜
#   âŠ™(+1âŠ¡:Grid)     # ta fram vÃ¤rdet+1
#   â–½:âŠ™=:âŠ¸â‰¡(âŠ¡:Grid) # kolla dess vÃ¤rden
# )

# Solve! â† /+^0 â‰¡(â§» ğŸ‘¨â€ğŸ’»â€¼ğŸ”œ â‰ Â°âŠŸâ‚‚) HeadsAndFeet

&fras"example_1a.txt"
âŠœâˆ˜âŠ¸â‰ @\n

# ta fÃ¶rst fram regionerna
# starta pÃ¥ valfri A, se vilka Ã¶vriga A jag kan nÃ¥
# kanske genom dijkstra mellan alla par av A?
# eller genom rekursiv flood fill? det vore ju nyttigt eftersom jag aldrig gjort det innan.

# rÃ¤kna sen ut aria
# rÃ¤kna sen ut omkrets
# rÃ¤kna sen ut pris

# bool ? coordPair matrix
CoordPairBelongsToSameRegion â† (
  Â°âŠŸ
  ?
  âŠ™â—Œpath(
    âŠ™âŠ™. # always keep matrix at bottom of stack

    #   âŠƒ(â–³|âˆ˜)
    #   #   +NÂ¤.
    #   #   âŠ™âŠ™(â—¡âŠ¡)
    #   #   âŠ™:
    #   #   â—Œâ—Œâ—Œ
    âŠƒ(âŠ¡âŠ™â‹…âˆ˜|+NÂ¤|Â¤â–³â‹…â‹…âˆ˜) # crop neis shape ? curr goal matrix
    âŠ™(â–½â¤šâ‰¡ğŸ°)           # crop withinBoundsNeis ? crop neis shape
    âŠƒ(â–½=âŠ™â¤šâŠ¡)          # validNeis ? crop withinBoundsNeis matrix
  )(â‰
  )
  â§»
)

âŠšâŠ¸âŒ•@C
â§…<2

# hack
?
# CoordPairBelongsToSameRegion âŠ¡2

â–½â¤šâ‰¡CoordPairBelongsToSameRegionâŠ™Â¤

# kanske lÃ¤ttare att ta med hela listan av C in i funktionen?
# och bara kolla om grannarna tillhÃ¶r den listan?
# det kan jag iofs refaktorera senare
